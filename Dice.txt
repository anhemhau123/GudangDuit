
error_reporting(0);
date_default_timezone_set('Asia/jakarta');
const 
title = "faucetpay",
versi = "1.1",
status = "online",
host = "faucetpay.io",
b = "\033[1;34m",
c = "\033[1;36m",
d = "\033[0m",
h = "\033[1;32m",
k = "\033[1;33m",
m = "\033[1;31m",
n = "\n",
p = "\033[1;37m",
u = "\033[1;35m";

function Curl($u, $h = 0, $p = 0, $x = 0) {
	$ch = curl_init();
	curl_setopt($ch, CURLOPT_URL, $u);
	curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
	curl_setopt($ch, CURLOPT_FOLLOWLOCATION, true);
	curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);
	curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, false);
	curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 30);
	curl_setopt($ch, CURLOPT_COOKIE,TRUE);
	#curl_setopt($ch, CURLOPT_COOKIEFILE,"cookie.txt");
	#curl_setopt($ch, CURLOPT_COOKIEJAR,"cookie.txt");
	if($p) {
		curl_setopt($ch, CURLOPT_POST, true);
		curl_setopt($ch, CURLOPT_POSTFIELDS, $p);
	}
	if($h) {
		curl_setopt($ch, CURLOPT_HTTPHEADER, $h);
	}
	if($x){
		curl_setopt($ch, CURLOPT_HTTPPROXYTUNNEL, true);
		curl_setopt($ch, CURLOPT_PROXY, "http://scraperapi:e83897e7ce6c29af1efc91c795d21a96@proxy-server.scraperapi.com:8001");
		// curl_setopt($ch, CURLOPT_PROXYTYPE, CURLPROXY_SOCKS5);
	}
	curl_setopt($ch, CURLOPT_HEADER, true);
	$r = curl_exec($ch);
	$c = curl_getinfo($ch);
	if(!$c) return "Curl Error : ".curl_error($ch); else{
		$hd = substr($r, 0, curl_getinfo($ch, CURLINFO_HEADER_SIZE));
		$bd = substr($r, curl_getinfo($ch, CURLINFO_HEADER_SIZE));
		curl_close($ch);
		return array($hd,$bd);
	}
}
function Acssi_calvin($string){
	$acssi = [
	"a" => ["┌─┐","├─┤","┴ ┴"],"b" => ["┌┐ ","├┴┐","└─┘"],"c" => ["┌─┐","│  ","└─┘"],"d" => ["┌┬┐"," ││","─┴┘"],"e" => ["┌─┐","├┤ ","└─┘"],
	"f" => ["┌─┐","├┤ ","└  "],"g" => ["┌─┐","│ ┬","└─┘"],"h" => ["┬ ┬","├─┤","┴ ┴"],"i" => ["┬","│","┴"],"j" => [" ┬"," │","└┘"],"k" => ["┬┌─","├┴┐","┴ ┴"],
	"l" => ["┬  ","│  ","┴─┘"],"m" => ["┌┬┐","│││","┴ ┴"],"n" => ["┌┐┌","│││","┘└┘"],"o" => ["┌─┐","│ │","└─┘"],"p" => ["┌─┐","├─┘","┴  "],
	"q" => ["┌─┐ ","│─┼┐","└─┘└"],"r" => ["┬─┐","├┬┘","┴└─"],"s" => ["┌─┐","└─┐","└─┘"],"t" => ["┌┬┐"," │ "," ┴ "],"u" => ["┬ ┬","│ │","└─┘"],
	"v" => ["┬  ┬","└┐┌┘"," └┘ "],"w" => ["┬ ┬","│││","└┴┘"],"x" => ["─┐ ┬","┌┴┬┘","┴ └─"],"y" => ["┬ ┬","└┬┘"," ┴ "],"z" => ["┌─┐","┌─┘","└─┘"]," "=>[" "," "," "]
	];
	$x = str_split($string);print " ";
	foreach($x as $data){print b.$acssi[$data][0];}
	print k." versi ".m.": ".h.versi.n." ";
	foreach($x as $data){print c.$acssi[$data][1];}
	print k." status".m.": ".h.status.n." ";
	foreach($x as $data){print p.$acssi[$data][2];}
	print "\n";
}
function Bn(){
	system('clear');
	$m="\033[1;31m";$p="\033[1;37m";$k="\033[1;33m";$h="\033[1;32m";$u="\033[1;35m";$b="\033[1;34m";$c="\033[1;36m";$mp="\033[101m\033[1;37m";$cl="\033[0m";$mm="\033[101m\033[1;31m";$hp="\033[1;7m";
	print p.str_repeat("─",16).m."> ".h."Scrypt by ".p."iewil ".m."<".p.str_repeat("─",15).n;
	Acssi_calvin(title);
	print Line();
	print "{$mm}[{$mp}▶{$mm}]{$cl} {$k}https://www.youtube.com/c/iewil\n{$c}{$hp} >_{$cl}{$b} Team-Function-INDO\n{$p}──────────────────────────────────────────────────\n";
	print m."{$mm}[{$mp}!{$mm}]".$cl.m." SCRIPT GRATIS TIDAK UNTUK DI OBRAL!".n.p."──────────────────────────────────────────────────\n\n";
}
function Line($x=0){
	$l = 50;
	if($x){
		return x($x,b.str_repeat('─',$l-3).n);
	}else{
		return b.str_repeat('─',$l).n;
	}
}
function Hcaptcha($siteurl,$sitekey,$apikey){
	$ua=["Content-Type: application/json"];
	$host="https://api.anycaptcha.com";
	$data=json_encode(array("clientKey"=>$apikey,"task"=>array("type"=>"HCaptchaTaskProxyless","websiteURL"=>$siteurl,"websiteKey"=>$sitekey)));
	$Create=json_decode(curl($host.'/createTask',$ua,$data)[1]);
	if($Create->errorId == '1'){
		print m.$Create->errorCode.n;
		exit;
	}else{
		$Task=$Create->taskId;
		while(true){
			echo m."processing...";
			$base=json_encode(array("clientKey"=>$apikey,"taskId"=>$Task));
			$Result=json_decode(curl($host.'/getTaskResult',$ua,$base)[1]);
			if($Result->status=='processing'){
				echo "\r             \r";
				echo m."processing......";
				sleep(5);
				echo "\r                \r";
				continue;
			}
			echo "\r                \r";
			return $Result->solution->gRecaptchaResponse;
		}
	}
}
function sv($data,$data_post){
    if(!file_get_contents($data)){
        file_put_contents($data,"[]");}
        $json=json_decode(file_get_contents($data),1);
        $arr=array_merge($json,$data_post);
        file_put_contents($data,json_encode($arr,JSON_PRETTY_PRINT));
}
function tmr($tmr){
	$timr=time()+$tmr;
	while(true){
		print "\r                       \r";
		$res=$timr-time();
		if($res < 1){break;}
		print p.date('i:s',$res);sleep(1);
	}
}
function h(){
	$x = json_decode(file_get_contents("akun.json"),1);
	$h[] = "user-agent: ".$x["user_agent"];
	$h[] = "cookie: ".$x["cookie"];
	return $h;
}
function rata($str,$x=0,$y=0,$z=0){
	if($y){
		$len = 5;
	}elseif($z){
		$len = 2;
	}else{
		$len = 12;
	}
	if(strlen($str)>12){
		$str = substr($str,0,12);
	}
	$lenstr = $len-strlen($str);
	if($x){
		return $str.str_repeat(" ",$lenstr);
	}else{
		return $str.str_repeat(" ",$lenstr).b."|";
	}
}
function Pass($check=0){
	passwordulang:
	$database = "..data";
	$password = "..password";
	$secret = gzcompress(date("dmY"));
	if($check){
		$cek = file_get_contents($password);
		if($cek == $secret){
			return true;
		}else{
			print m."Password Expired!".n;
			print line();
			unlink($password);
		}
	}
	if(!file_get_contents($database)){
		$base = file_get_contents("https://short-30-default-rtdb.firebaseio.com/premium/short.json");
		file_put_contents($database,gzcompress($base));
		goto passwordulang;
	}else{
		$data = json_decode(gzuncompress(file_get_contents($database)),1)["T".date("dmY")];
		if(!$data){
			unlink($database);
			goto passwordulang;
		}
	}
	if(!file_get_contents($password)){
		Bn();
		print h." Link     ".p.": ".k.$data["shortlink"]."\n";
		$pas = readline(h." Password ".p.": ".k);
		if($pas == $data["password"]){
			file_put_contents($password,$secret);
			print h." --- True Password ".n;
			sleep(3);
		}else{
			print m." --- Invalid Password!".n;
			goto passwordulang;
		}
	}else{
		$cek = file_get_contents($password);
		if($cek == $secret){
			print h." --- True Password ".n;
		}else{
			unlink($password);
			goto passwordulang;
		}
	}
}
function data(){
	$url = "https://faucetpay.io/page/user-admin";
	$r = curl($url,h())[1];
	preg_match_all('#<span class="tx-color-03 tx-normal">(.*?)</span></h6> <div class="d-flex align-items-baseline tx-rubik"> <h5 class="tx-20 mg-b-0">(.*?)</h5>#is',$r,$bal);
	return [$bal[1],$bal[2]];
}
//pass();
//awal
bn();
coki:
if(!file_get_contents("akun.json")){
	$acc["cookie"] = readline(h."Input Cookie".m." > ".p);
	$acc["user_agent"] = readline(n.h."Input User_Agent".m." > ".p);
	sv("akun.json",$acc);
}
bn();
$r = curl('https://faucetpay.io/account/settings',h())[1];
$uname = explode('"',explode('<input class="form-control" type="text" name="text" value="',$r)[1])[0];
if(!$uname){unlink('akun.json');goto coki;}
print h."Username ".m.": ".p.$uname.n;
print line();

$r = data();
for($i=0;$i<count($r[1]);$i++){
	if($i % 2 == 0){
		print k.rata(str_replace(["(",")"],["",""],$r[0][$i]),"",1).m." : ".p.$r[1][$i].m." | ";
	}else{
		print k.rata(str_replace(["(",")"],["",""],$r[0][$i]),"",1).m." : ".p.$r[1][$i].n;
	}
}
print n;
print line();

pesan:
print p."1 ".m."> ".p."Ptc\n";
print p."2 ".m."> ".p."Dice\n";
$pesan = readline(h.'Input Number'.m.' > '.p);
print line();
if($pesan==1){goto ptc;
}elseif($pesan==2){goto menu;
}else{
	print m."TOLOL!\n";
	exit;
}


//dice
menu:
$con = ".history";
$dice = "dice.json";

print p."1 ".m."> ".p."Last Data\n";
print p."2 ".m."> ".p."New Data\n";
print p."3 ".m."> ".p."History\n";
$pil = readline(h.'Input Number'.m.' > '.p);
print line();
if($pil==1){goto lastdata;
}elseif($pil==2){goto newdata;
}elseif($pil==3){goto history;
}else{
	print m."TOLOL!\n";
	exit;
}
lastdata:
if(file_get_contents($dice)){
	$dc = json_decode(file_get_contents($dice),1);
	if($dc["coin"] && $dc["sheed"] && $dc["bet"] && $dc["roll"] && $dc["stop_loss"] && $dc["stop_profit"]){
		$coin = $dc["coin"];
		$sheed = $dc["sheed"];
		$beti = $dc["bet"];
		$roll = $dc["roll"];
		$stoploss = $dc["stop_loss"];
		$stopprofit = $dc["stop_profit"];
		goto gass;
	}else{
		unlink($dice);
		goto lastdata;
	}
}else{
	print m."Error ".p."~> ".m."Lost data\n";
	print line();
	goto newdata;
}
newdata:
$coin = readline(h."Input coin ".m."> ".p);
$sheed = readline(h."Input client sheed ".m."> ".p);
$beti = readline(h."Bet ammount ".m."> ".p);
$roll = readline(h."Ammount Roll ".m."> ".p);
$stoploss = readline(h."Stop loss ".m."> ".p);
$stopprofit = readline(h."Stop profit ".m."> ".p);
$dc["coin"] = $coin;
$dc["sheed"] = $sheed;
$dc["bet"] = $beti;
$dc["roll"] = $roll;
$dc["stop_loss"] = $stoploss;
$dc["stop_profit"] = $stopprofit;
sv($dice,$dc);

gass:
$bet = $beti;
$bett = $bet;
bn();

$r = curl('https://faucetpay.io/dice',h())[1];
$id= explode("javascript:useCoin('",$r);
$idc = [];
for($i=1;$i<count($id);$i++){
	$coins = explode(' ',explode('</a>',explode(';">',$id[$i])[1])[0])[1];
	$ids = explode("');",$id[$i])[0];
	$idc[$coins] = $ids;
}
$coin = strtoupper($coin);
if($idc[$coin]){
	$url = "https://faucetpay.io/dice?c=".$idc[$coin];
}else{
	if($coin == "BTC"){
		$url = "https://faucetpay.io/dice";
	}else{
		print m."Tolol!".n;
		exit;
	}
}
$dtx = json_decode(file_get_contents($con),1)[date('d/M/y')]["history"];
$win = $dtx[$coin]["win"];
$lose = $dtx[$coin]["lose"];
$prof = $dtx[$coin]["profit"];

$r = curl($url,h())[1];
$balance = explode('</span>',explode('<span id="balance">',$r)[1])[0];
print h."Coin       ".m.": ".c.$coin.n;
print h."Balance    ".m.": ".c.$balance.n;
print line();
print h."Sheed      ".m.": ".c.substr($sheed,0,10).p."...".n;
print h."Bet        ".m.": ".c.$bet.n;
print h."Num Roll   ".m.": ".c.$roll.n;
print h."Stop Loss  ".m.": ".c.$stoploss.n;
print h."Stop Profit".m.": ".c.$stopprofit.n;
print line();
print p.rata("Balance").p.rata("Bet").p.rata("HL","","",1).p.rata("Roll","",1).p.rata("Profit").p.rata("WR",1,1).n;
print line();

for($i=$roll;$i>0;$i--){
	if(!explode('"',explode('<input class="form-control" type="text" name="text" value="',curl('https://faucetpay.io/account/settings',h())[1])[1])[0]){
		unlink("akun.json");
		goto coki;
	}
	$hilo = rand(1,2);
	$data = "play=true&coin=".$coin."&client_seed=".$sheed."&bet_amt=".$bett."&profit=".$bett."&payout=".$payout."&winning_chance=".$win_chance."&prediction=".$hilo;
	$r = json_decode(curl("https://faucetpay.io/dice/play",h(),$data)[1],1);
	if($r["error"]){
		exit(m.$r["message"].n);
	}
	
	($hilo==1)? $hi = m.rata("Hi","","",1):$hi= h.rata("Lo","","",1);
	print p.rata($r["balance"]);
	if($bett>$bet){
		print k.rata($bett);
	}else{
		print p.rata($bett);
	}
	print $hi;
	print p.rata($r["roll"],"",1);
	if($r["win"]){
		$profit  = sprintf('%.8f',floatval($profit+$bett));
		$profit1 = explode('.',$profit)[0];
		$profit2 = substr(explode('.',$profit)[1],0,8);
		$profit = $profit1.".".$profit2;
		print h.rata("+".$bett);
		$bett = $bet;
		$win+=1;$windat+=1;
		$wr = 100;
	}else{
		$profit  = sprintf('%.8f',floatval($profit-$bett));
		$profit1 = explode('.',$profit)[0];
		$profit2 = substr(explode('.',$profit)[1],0,8);
		$profit = $profit1.".".$profit2;
		print m.rata("-".$bett);
		$bett*=2;
		$bett = sprintf('%.8f',floatval($bett));
		$lose+=1;$losedat+=1;
		$wr = 0;
	}
	if($win && $lose){
		$wr = ($win/($win+$lose))*100;
		$wr = substr($wr,0,4);
	}
	print u.rata($wr."%",1,1).n;
	
	$history["win"] = $win;
	$history["lose"] =  $lose;
	$history["profit"] = sprintf('%.8f',floatval($profit+$prof));
	if($dtx){
		$x[date('d/M/y')] = ["history" => array_merge($dtx,[$coin =>$history])];
	}else{
		$x[date('d/M/y')] = ["history" => [$coin =>$history]];
	}
	sv($con,$x);
	if($bett >= $stoploss){
		print n.m."Stop Loss\n";
		goto potong;
	}
	if($profit >= $stopprofit){
		print n.h."Stop Profit\n";
		goto potong;
	}
}
potong:
print line();
print h."Awal ".m.": ".c.$balance." ".$coin.b." | ";
$r = curl($url,h())[1];
$ball = explode('</span>',explode('<span id="balance">',$r)[1])[0];
print h."Akhir ".m.": ".c.$ball." ".$coin.n;
print h."Win ".p.": ".h.$windat.b." | ".m."Lose ".p.": ".m.$losedat.b." | ".k."Profit ".p.": ".k.$profit." ".$coin.n;
print line();
goto menu;

history:
bn();
print m."INFO".p." Timezone Asia/Jakarta\n";
print line();
if(file_get_contents($con)){
	$database = json_decode(file_get_contents($con),1);
	$date = array_keys($database);
	foreach($date as $tanggal){
		print p."Tanggal : ".c.$tanggal.n;
		foreach($database[$tanggal] as $datax){
			$koin = array_keys($datax);
			foreach($koin as $coin){
				print m."- ".c.$coin.": ".h."Win".p.": ".h.$datax[$coin]["win"]." | ".m."Lose".p.": ".m.$datax[$coin]["lose"]." | ".u."Profit".p.": ".u.$datax[$coin]["profit"].n;
				print line();
			}
		}
	}
	print p."1 ".m."> ".p."Hapus history\n";
	print p."2 ".m."> ".p."Menu\n";
	$hapus = readline(h."Input number".m." > ".p);
	print line();
	if($hapus == 1){
		unlink($con);
		print h."Success Hapus history\n";
		print line();
		exit;
	}
	goto menu;
}else{
	print m."Belum ada history tersimpan bangke\n";
	print line();
	goto menu;
}

ptc:
$api = json_decode(file_get_contents("akun.json"),1);
if(!$api["apikey"]){
	print m."Apikey from Anycaptcha only!\n";
	$apikey = readline(h."Input Apikey".m." > ".p);
	$apike["apikey"] = $apikey;
	$apik = array_merge($api,$apike);
	sv("akun.json",$apik);
}
$apikey = $api["apikey"];

bn();

$r = curl('https://faucetpay.io/ptc',h())[1];
$id = explode('ptc/view/',$r);
for($i=1;$i<count($id);$i++){
	$patch=explode("'",$id[$i])[0];
	$r = curl('https://faucetpay.io/ptc/view/'.$patch,h())[1];
	$ad = explode('"',explode('<iframe id="iframe" src="',$r)[1])[0];
	print b."Visit : ".k.$ad.n;
	$sitekey = explode('"',explode('<div class="h-captcha" data-sitekey="',$r)[1])[0];
	$tmr = explode('</span>',explode('<span id="duration">',$r)[1])[0];
	$token = explode('"',explode('name="token" value="',$r)[1])[0];
	tmr($tmr);
	
	$cap = Hcaptcha('https://faucetpay.io/ptc/view/'.$patch,$sitekey,$apikey);
	$data = "g-recaptcha-response=".$cap."&h-captcha-response=".$cap."&token=".$token."&complete=Get+Credit";
	$r = curl('https://faucetpay.io/ptc',h(),$data)[1];
	$ss=explode('</div>',explode('<div class="alert alert-info">',$r)[1])[0];//Good job! You have been credited with 0.00000002 BTC.
	if($ss){
		print h.$ss."\n";
	}else{
		print m."Error!\n";
	}
	print line();
}
print m."Ptc habis\n";
print line();
goto pesan;

